name: CICD PIPE

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
      python-version: [3.7 3.8 3.9]

    steps:
    - name: checkout code
      uses: actions/checkout@v2

    - name: set up python
      uses: actions/pyhton-install@v2
      with: 
        python-version: ${{matrix.python-version}}

    - name: install dependencies 
      run: 
        cd chapter4
        python -m pip install pip --upgrade
        if [ -f requirements.txt ]; then install requirements.txt; fi

    - name: run tests
      run: 
        cd chapter4
        python -m unittest discover 

    - name: notify of success
      run: echo "success on versrion ${{matrix.python-version}}"
      if: success ()


